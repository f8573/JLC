<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Matrix Workspace</title>
    <script>
      (function () {
        try {
          const savedTheme = localStorage.getItem('theme')
          const theme = savedTheme === 'dark' || savedTheme === 'light' ? savedTheme : 'light'
          document.documentElement.classList.add(theme)
          if (theme === 'dark') {
            document.documentElement.classList.add('no-theme-fade')
          }
        } catch (e) {
          document.documentElement.classList.add('light')
        }
      })()
    </script>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Lora:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@100..700&display=swap" rel="stylesheet" />
    <script id="tailwind-config">
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              "primary": "#7c3aed",
              "primary-hover": "#6d28d9",
              "purple-light": "#f5f3ff",
              "slate-gray": "#64748b",
              "border-color": "#e2e8f0",
              "primary-light": "#f5f3ff",
              "background-light": "#fcfaff",
              "surface-white": "#ffffff",
              "accent-purple": "#a855f7",
              "surface-accent": "#faf9ff",
              "border-elegant": "#e9e4ff"
            },
            fontFamily: {
              "sans": ["Inter", "sans-serif"],
              "mono": ["JetBrains Mono", "monospace"],
              "display": ["Space Grotesk", "sans-serif"],
              "math": ["Lora", "serif"]
            },
            borderRadius: {
              "DEFAULT": "0.375rem",
              "lg": "0.5rem",
              "xl": "1rem",
              "full": "9999px"
            }
          }
        }
      }
    </script>
    <style type="text/tailwindcss">
      :root {
        --accent-color: #7c3aed;
        --accent-hover: #6d28d9;
        --accent-light: #f5f3ff;
      }
      .math-grid {
        background-image: radial-gradient(#7c3aed15 1px, transparent 1px);
        background-size: 24px 24px;
      }
      .dark .math-grid {
        background-image: radial-gradient(#7c3aed30 1px, transparent 1px);
      }
      .matrix-bracket {
        border-left: 2px solid #cbd5e1;
        border-right: 2px solid #cbd5e1;
        position: relative;
      }
      .dark .matrix-bracket {
        border-left-color: #475569;
        border-right-color: #475569;
      }
      .matrix-bracket::before,
      .matrix-bracket::after {
        content: "";
        position: absolute;
        height: 100%;
        width: 8px;
        top: 0;
      }
      .matrix-bracket::before {
        left: 0;
        border-top: 2px solid #cbd5e1;
        border-bottom: 2px solid #cbd5e1;
      }
      .dark .matrix-bracket::before {
        border-top-color: #475569;
        border-bottom-color: #475569;
      }
      .matrix-bracket::after {
        right: 0;
        border-top: 2px solid #cbd5e1;
        border-bottom: 2px solid #cbd5e1;
      }
      .dark .matrix-bracket::after {
        border-top-color: #475569;
        border-bottom-color: #475569;
      }
      .matrix-grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(60px, 1fr));
        gap: 8px;
      }
      .math-font {
        font-family: "Space Grotesk", monospace;
      }
      .purple-glow {
        color: var(--accent-color, #7c3aed);
        text-shadow: 0 0 12px rgba(124, 58, 237, 0.2);
      }
      .custom-scrollbar::-webkit-scrollbar {
        width: 5px;
        height: 5px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      .dark .custom-scrollbar::-webkit-scrollbar-track {
        background: #1e293b;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #ddd6fe;
        border-radius: 10px;
      }
      .dark .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #475569;
      }
      .matrix-bracket-left {
        border-left: 2px solid #94a3b8;
        border-top: 2px solid #94a3b8;
        border-bottom: 2px solid #94a3b8;
        width: 8px;
      }
      .dark .matrix-bracket-left {
        border-left-color: #64748b;
        border-top-color: #64748b;
        border-bottom-color: #64748b;
      }
      .matrix-bracket-right {
        border-right: 2px solid #94a3b8;
        border-top: 2px solid #94a3b8;
        border-bottom: 2px solid #94a3b8;
        width: 8px;
      }
      .dark .matrix-bracket-right {
        border-right-color: #64748b;
        border-top-color: #64748b;
        border-bottom-color: #64748b;
      }
      .matrix-preview-bracket {
        border-left: 1.5px solid #cbd5e1;
        border-right: 1.5px solid #cbd5e1;
        position: relative;
      }
      .dark .matrix-preview-bracket {
        border-left-color: #475569;
        border-right-color: #475569;
      }
      .matrix-preview-bracket::before,
      .matrix-preview-bracket::after {
        content: "";
        position: absolute;
        height: 100%;
        width: 4px;
        top: 0;
      }
      .matrix-preview-bracket::before {
        left: 0;
        border-top: 1.5px solid #cbd5e1;
        border-bottom: 1.5px solid #cbd5e1;
      }
      .dark .matrix-preview-bracket::before {
        border-top-color: #475569;
        border-bottom-color: #475569;
      }
      .matrix-preview-bracket::after {
        right: 0;
        border-top: 1.5px solid #cbd5e1;
        border-bottom: 1.5px solid #cbd5e1;
      }
      .dark .matrix-preview-bracket::after {
        border-top-color: #475569;
        border-bottom-color: #475569;
      }
      .matrix-thumb-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2px;
      }
      .tab-active {
        @apply border-primary text-primary bg-primary/5;
      }
      .dark .tab-active {
        @apply border-primary text-primary bg-primary/20;
      }
      .tab-inactive {
        @apply border-transparent text-slate-400 hover:text-primary hover:bg-primary/5;
      }
      .dark .tab-inactive {
        @apply text-slate-500 hover:text-primary hover:bg-primary/10;
      }
      .report-section {
        @apply py-12 border-b border-border-elegant scroll-mt-20;
      }
      .dark .report-section {
        @apply border-slate-700;
      }
      .math-text {
        @apply font-math italic text-slate-800;
      }
      .dark .math-text {
        @apply text-slate-200;
      }
      .sticky-toc-link {
        @apply block py-1.5 px-3 text-sm text-slate-500 hover:text-primary hover:bg-primary-light rounded transition-all border-l-2 border-transparent;
      }
      .dark .sticky-toc-link {
        @apply text-slate-400 hover:bg-primary/10;
      }
      .sticky-toc-link.active {
        @apply text-primary border-primary font-semibold bg-primary-light;
      }
      .dark .sticky-toc-link.active {
        @apply bg-primary/20;
      }
      @media print {
        .no-print { display: none !important; }
        .print-break { page-break-before: always; }
        body { background: white; }
        .report-container { max-width: 100% !important; border: none !important; box-shadow: none !important; }
      }
      html, body {
        overflow: hidden;
        height: 100%;
      }
      #root {
        height: 100%;
        overflow: hidden;
      }
      html.no-theme-fade *,
      html.no-theme-fade *::before,
      html.no-theme-fade *::after {
        transition: none !important;
        animation: none !important;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
